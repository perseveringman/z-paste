# Clipboard Manager - Mac 剪贴板管理工具 PRD

### TL;DR

Clipboard Manager 是为 Mac 用户打造的本地优先剪贴板管理工具，支持通过快捷面板（Shift + Cmd + V）高效访问历史、智能识别内容类型、代码高亮、JSON/颜色等开发者友好功能，并支持使用 iCloud Drive 进行多台 Mac 设备间同步。其目标是用一次性买断或免费模式，替代 Paste 这类昂贵的订阅制产品。

---

## Goals

### Business Goals

* 6 个月内覆盖 Paste 类 Mac 剪贴板管理器主流核心功能，降低用户流失。

* 实现每周活跃用户（WAU）> 500，次月留存率达到 35%。

* 推出一次性买断或开源版本，减少初期用户获取门槛。

* 完成 iCloud 同步特性，优化多设备用户体验，提升付费转化率（如设定）。

* 保持产品 NPS 高于 55。

### User Goals

* 快速访问和检索历史剪贴板内容，提升工作效率。

* 通过智能分类和手动收藏，随时管理和查找高频使用片段。

* 利用开发者友好功能（如代码高亮、JSON 格式化、Base64 解码）减少上下文切换。

* 保证内容隐私，本地存储并可灵活开启 iCloud Drive 同步。

* 简单易用，无复杂功能干扰，提升专注体验。

### Non-Goals

* 不支持 iOS 平台和移动端同步。

* 不集成第三方云存储（如 Dropbox, Google Drive）。

* 不加入团队或协作数据共享功能（仅关注个人用户）。

---

## User Stories

### 开发者

* 作为一名开发者，我希望使用 Shift+Cmd+V 唤起剪贴板面板，快速访问最近复制的代码、链接、API key 等内容，从而高效完成日常编码任务。

* 作为一名开发者，我希望剪贴板内容能自动识别为代码、URL、颜色值等类型，并自动高亮显示和支持预览，以减少出错概率。

* 作为一名开发者，我希望能对 JSON、Base64 等内容快速格式化或解码，无需跳转到其他工具。

* 作为一名开发者，我希望我的所有 Mac 电脑间的剪贴板历史可以无缝同步，减少跨设备重复操作。

* 作为一名开发者，我希望可以收藏或置顶常用片段，如接口签名或常用脚本，随时粘贴。

### 设计师

* 作为一名设计师，我希望自动识别颜色值（如 #FF5722、rgba 等），并显示颜色预览，方便配色。

* 作为一名设计师，我希望支持剪贴板图片的存储和快速回查，设计素材能随时用到。

* 作为一名设计师，我希望将常用的文案或色卡分门别类收藏，便于管理和查找。

* 作为一名设计师，我希望通过快捷面板和搜索，减少在 Finder、Photoshop 之间切换时间。

### 普通知识工作者

* 作为一名日常办公用户，我希望历史剪贴板能按时间及内容类型智能分类，方便查找会议记录、网址和表格数据。

* 作为一名普通用户，我希望快捷键操作便捷，粘贴历史内容只需两步，无需鼠标。

* 作为一名普通用户，我希望能够自定义文本片段模版，提高回复效率。

* 作为一名普通用户，我希望所有内容在我的 Mac 本地，除非我主动开启 iCloud，同步过程受我掌控。

---

## Functional Requirements

### 核心剪贴板管理（Priority: Highest）

* 快捷面板：通过 Shift+Cmd+V 快速呼出，展示历史、收藏和分类视图。

* 模糊搜索：实时输入关键词，按优先级/时间/类型筛选内容。

* 剪贴板历史管理：自动记录至多 2,000 条内容，支持删除、批量清理、历史保留时长设定。

### 智能分类与识别（Priority: High）

* 智能内容识别：自动识别文本、链接、图片、颜色、代码、文件路径等，并展示对应图标或缩略图。

* 分类管理：用户可自定义分组/标签，并手动整理或自动归类剪贴板内容。

### 开发者功能（Priority: High）

* 代码高亮：自动检测代码语言并高亮展示（支持常见 10+ 语言）。

* JSON 格式化/检验与 Base64 解码：面板内一键格式化、预览或转换。

* 快速文本转换：包括大小写切换、URL encode/decode、去除空格等常用选项。

### 效率提升功能（Priority: High）

* 序列粘贴：在快捷面板内支持连续粘贴多个历史项。

* 快速编辑：支持面板内对片段快速小幅修改后直接粘贴。

* 模板片段：允许用户创建/保存常用文本模版（如电子邮件开头等）。

### 同步与数据管理（Priority: High）

* iCloud Drive 同步：通过读写 iCloud Drive 文件夹实现多 Mac 同步，支持冲突检测和合并。

* 本地加密存储：所有数据本地 SQLite 持久化存储，用户可选择加密。

* 隐私设置：完全本地可用，iCloud 同步为可选项，所有数据用户自主管控。

---

## User Experience

**Entry Point & First-Time User Experience**

* 用户首次打开应用，收到权限请求（剪贴板访问、iCloud Drive 读写）。

* 引导界面简要介绍功能，包含核心快捷键（Shift+Cmd+V）、隐私/同步说明与首次配置向导。

* 新用户可选择跳过或根据提示自定义偏好设置，如剪贴板自动保留时限、同步开启等。

**Core Experience**

* **Step 1:** 用户复制内容，Clipboard Manager 在后台自动捕捉剪贴板变更，并将内容归档到本地数据库。

  * UI 保持极简，无明显弹窗影响用户操作。

  * 校验内容类型，实现去重与分类。

* **Step 2:** 用户按 Shift+Cmd+V 唤醒面板。

  * 面板紧贴当前鼠标，0.3 秒内出现在屏幕中央/光标区。

  * 默认展示最近项目，支持最多 20 条预览。

* **Step 3:** 用户可输入关键词或上下方向键导航列表。

  * 实时模糊筛选，支持多条件（如“code api”）。

  * 分类标签和类型图标一目了然。

* **Step 4:** 鼠标或回车键/数字键选中项目直接粘贴到当前光标处。

  * 粘贴后给出轻量气泡反馈（如“已粘贴”或“JSON已格式化”）。

* **Step 5:** 用户可右键收藏、删除、移动到自定义分组。

  * 收藏项固定显示，可进行重新排序。

* **Step 6:** 开发者特定功能（如代码、JSON、Base64、URL预览/转换）可在面板侧边直接操作，无需再打开外部应用。

  * 支持一键格式化、复制、转换、预览等操作。

* **Step 7:** iCloud 同步自动后台进行，首次同步引导用户手动开启，冲突时弹窗提示可合并或保留现有数据。

**Advanced Features & Edge Cases**

* 批量编辑/删除历史，支持多条选中。

* 键盘派功能设计，全部主要操作支持快捷键指令。

* iCloud 冲突：展示合并界面，优先新数据或提示保留双方。

* 本地 SQLite 损坏检测与自动恢复备份。

* 内存/性能防护：清理历史，关闭大图片预览等。

* 隐私场景：用户可一键清空本地和云端所有数据。

**UI/UX Highlights**

* 高对比度配色，暗色/亮色主题自适应。

* 响应式布局，适配大屏与双屏办公分割。

* 高密度信息展示与简洁交互兼容，所有功能三步可达。

* 全屏阅读辅助功能，支持 VoiceOver 和键盘全导航。

* 弹窗、面板动画控制在 150ms 以内，提高响应性。

---

## Narrative

在一家远程开发团队工作的 Alex，拥有两台 MacBook Pro（家中/办公室各一台）。他每天在 Terminal、VSCode、Slack、Chrome 间频繁切换，需要经常复制代码片段、JSON、API key 和配色方案。曾用过 Paste，但高昂订阅和复杂功能让人不满。他希望能在多机无缝同步剪贴板历史，还要支持自动高亮代码、JSON 格式化、颜色预览，且数据安全可控。

有了 Clipboard Manager，Alex 只需 Shift+Cmd+V 就能找回自己 48 小时前用过的 API key，并通过面板一键格式化 JSON、解码 Base64，或预览颜色——所有操作流畅，主力开发机和家用副机之间自动完成 iCloud Drive 同步。同事推荐的命令行片段、配色方案他轻松收藏，极大提升了工作连续性和操作幸福感。数据完全存储在本地，自主管理同步，Alex 再也不用纠结订阅到期或隐私安全问题，告别繁琐体验，将全部专注投入实际开发之中。

---

## Success Metrics

### User-Centric Metrics

* 日活跃用户数（DAU）和周活跃用户数（WAU）

* 用户次日/7日/30日留存率 > 35%

* 用户平均每日剪贴板操作次数（呼出面板次数、粘贴历史等）

* NPS（净推荐值）> 55

### Business Metrics

* 新增激活用户数/日

* 付费转化率（如采用买断/Pro 模式）

* 用户获取成本（CAC）< $2（如投放）

### Technical Metrics

* 剪贴板捕捉与存储准确率 > 99.9%

* 搜索与呼出面板平均响应时间 < 300ms

* iCloud 同步成功率 > 98%

* 内存占用稳定小于 120MB

* 数据异常/崩溃率 < 0.5%/月

### Tracking Plan

* 剪贴板内容捕捉次数

* 快捷面板唤起次数

* 历史搜索、分类/筛选操作次数

* 收藏/置顶/删除事件

* iCloud 同步触发与异常上报

* 高级功能（如 JSON 格式化、代码高亮）使用频率

* 应用设置变更操作

---

## Technical Considerations

### Technical Needs

* Electron 跨平台桌面框架

* 剪贴板监听模块

* 前端 React/Vue 组件开发及交互面板

* SQLite 本地数据库与同步桥接

* iCloud Drive 文件夹 API 读写与冲突合并逻辑

* 智能内容识别（正则/启发式算法）

* 代码高亮/JSON/颜色等预览/转换库引入

### Integration Points

* 系统剪贴板 API（安全沙箱下固定权限申请）

* iCloud Drive 文件系统挂载点

* macOS 原生快捷键注册接口

* 系统启动项配置（支持开机自启）

### Data Storage & Privacy

* 所有剪贴板历史本地以 SQLite 持久化，加密存储可选

* iCloud Drive 同步通过加密本地数据库/数据文件夹，实现分设备写入与冲突检测

* 严格不读取或上传除本地/iCloud 以外的任何第三方服务器

* 隐私政策透明，用户随时可停止同步并清除所有本地及远端数据

### Scalability & Performance

* 目标支持 10,000+ 剪贴板记录，0.3 秒内响应

* 流畅支持图片/富文本小图片缩略图，超大图片仅保存路径/不加载进内存

* 多设备同步场景下，合并流程锁和异常回滚机制

### Potential Challenges

* 兼容 macOS 剪贴板权限变化及崩溃恢复

* iCloud Drive 同步偶发丢包/冲突及合并逻辑（需详细测试）

* Electron 应用的内存占用和冷启动优化

* 正则与启发式识别的准确率与性能均衡

* 本地数据库损坏与备份恢复策略

---

## Milestones & Sequencing

### Project Estimate

* 预计开发周期：4-6 周（全功能 MVP）

* 工作量等级：Large（实际交付节奏追求 lean startup）

### Team Size & Composition

* 极小团队：1 人主力（含产品/开发/测试/设计），AI 辅助

* 如必要可寻求外包 UI 设计快包，核心开发全部自行处理

### Suggested Phases

**Phase 1: 核心剪贴板功能与快捷面板（2 周）**

* 交付物：剪贴板监听、历史管理、快捷面板 UI、基础分类与搜索、快捷键配置

* 负责人：主开发者（你本人，AI 可辅助 demo/脚手架）

* 依赖：macOS 权限/剪贴板 API

**Phase 2: 开发者功能与效率工具（1.5 周）**

* 交付物：代码高亮、JSON/Base64/颜色/URL 预览与转换、序列粘贴、快速编辑、模板片段

* 负责人：主开发者

* 依赖：第三方解析/高亮库集成

**Phase 3: iCloud 同步与性能/安全优化（1.5 周）**

* 交付物：iCloud Drive 文件夹多设备同步 + 冲突合并、隐私/加密选项、性能与 UI 精细化优化

* 负责人：主开发者

* 依赖：iCloud Drive 跨设备测试，数据库并发处理案例

---